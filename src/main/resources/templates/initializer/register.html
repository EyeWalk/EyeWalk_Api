<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EyeWalk - API Initializer</title>
    <link rel="icon" type="image/png" sizes="72x35" href="/resources/images/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="/resources/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/resources/css/initializer.css" rel="stylesheet" type="text/css" media="all" />
</head>

<body>
<!-- main -->
<div class="main-layout wrapper vh-100">
    <h1>API initializer</h1>
    <div class="main-inner">
        <div class="form-container">
            <div th:if="${error == null && username == null}" th:remove="tag">
                <form action="/init" method="post">
                    <input class="text w-100" type="text" name="name" placeholder="Username" required="true">
                    <input class="text email w-100" type="email" name="email" placeholder="Email" required="true">
                    <input class="text w-100" type="password" name="password" placeholder="Password" required="true">
                    <input class="text pass w-100" type="password" name="passwordVerify" placeholder="Confirm Password" required="true">
                    <small class="text-muted">Password must have at least 5 characters long</small>
                    <input type="hidden" name="role" value="ADMIN">
                    <input type="submit" value="SAVE">
                </form>
            </div>
            <div th:if="${error != null || username != null}" th:remove="tag">
                <div class="text-center text-break" th:if="${error == null}">
                    <p>Welcome <span th:text="${username}"></span>!</p>
                    <p class="mt-1">API was initialized successfully!</p>
                    <p class="mt-3">Access token:</p>
                    <p class="text-secondary fs-6 mt-2" th:text="${key}"></p>
                    <a class="mt-5 btn btn-outline-light btn-lg" href="/swagger-ui/index.html">Open Swagger</a>
                </div>
                <div th:if="${error}" class="text-center w-100">
                    <p th:text="${error}"></p>
                    <a class="mt-5 btn btn-outline-light btn-lg" href="/init">Register</a>
                </div>
            </div>
        </div>
    </div>
    <!-- footer -->
    <div class="footer">
        <p>Insane Technology - EyeWalk API Initializer</p>
    </div>
    <!-- //footer -->
    <ul class="bubbles">
        <li></li><li></li><li></li><li></li><li></li>
        <li></li><li></li><li></li><li></li><li></li>
    </ul>
</div>
<!-- //main -->
<!-- Bootstrap -->
<script src="/resources/js/bootstrap.bundle.min.js"></script>
</body>

</html>